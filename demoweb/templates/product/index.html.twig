{% extends "base.html.twig" %}

{% block body %}
<div class="container col-md-8 mt-4 text-center">
    <a href="{{ path('product_add')}} ">
        <img src="{{ asset('images/add.png') }}" width="50" height="50">
    </a>
    <table class="table table-condensed mt-3">
        <tr>
            <th>Id</th>
            <th>Name</th>
            <th>Image</th>
            <th>Category</th>
            <th>Menu</th>
        </tr>
        {% for p in product %}
            <tr>
                <td>{{ p.id }}</td>
                <td>
                <a href="{{ path('product_detail', {'id' : p.id } )}}">{{ p.name }}</a>
                </td>
                 <td>
                    <img src="{{ p.image }}" width="80" height="80">
                </td>
                <td> 
                    {% if p.category != null %}
                    <a href="{{ path('category_detail', {'id' : p.category.id })}}">
                        {{p.category.name }}
                    </a>  
                    {% endif %}
                </td>
                <td>
                    <a class="btn btn-warning" href="{{ path('product_edit', {'id' : p.id } )}}">Edit</a>
                    <a class="btn btn-danger" href="{{ path('product_delete', {'id' : p.id } )}}"
                    onclick = "return confirm('Do you want to delete this product ?')"
                    >Delete</a>
                </td>
            </tr>
        {% endfor %}
    </table>
</div>
{% endblock %}